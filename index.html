<div class="container" dir="rtl" style="text-align:right;">
<h1 class="title">قرآن كريم Holy Quran</h1>

<div id="quran-container">  

<img alt="Quran Icon" loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgumgEYtIo6CebltNEznSodil2rSguFaJJFIq2SAZCxBhHKCWWX6-Rbe4Sa_Rq6Cfnfw0KBnP9vN-0nvb-q9RGWDOx4BcuIwkQEZxxP_CDnIQNr7iIOGiVboV5Hafptt0LhBpEJWcoG6fs8sd-fzzOgDxfB6dm1ANVcDurcdkE9aiq_koscUCAh4mQX3cfb/s400-rw/Quran.png"/>

<div class="reciter-selection">
<label for="reciterSelect">القارئ</label>
<select id="reciterSelect">
  <option value="ajm">أحمد العجمي</option>
  <option value="jleel">خالد الجليل</option>
  <option value="salman[11]">سلمان العتيبي</option>
  <option value="shur[7]">سعود الشريم</option>
  <option value="bu_khtr[8]">صلاح بو خاطر</option>
  <option value="basit[7]">عبد الباسط عبد الصمد</option>
  <option value="sds[11]">عبد الرحمن السديس</option>
  <option value="hthfi[9]">على عبد الرحمن الحذيفي</option>
  <option value="frs_a[8]">فارس عباد</option>
  <option value="maher[12]">ماهر المعيقلي</option>
  <option value="jbrl[8]">محمد جبريل</option>
  <option value="minsh" selected>محمد صديق المنشاوي</option>
  <option value="husr[13]">محمود خليل الحصري</option>
  <option value="afs[8]">مشاري العفاسي</option>
  <option value="mansor[11]">منصور السالمي</option>
  <option value="yasser[11]">ياسر الدوسري</option>
</select>
</div>

<audio id="baPlayer" controls>
<source id="audioSource" src="https://server10.mp3quran.net/minsh/001.mp3" type="audio/mpeg">
متصفحك لا يدعم هذا المشغل 
</audio>

<div class="qautockeck">
<span class="qautockeck-label">التشغيل التلقائي</span>
<label class="qtoggle-switch">
<input type="checkbox" id="autoplayCheckbox">
<span class="qautockeck-slide"></span>
</label>
</div>

<div id="quran-playlist">
  <!-- سيتم ملؤه تلقائياً عبر JavaScript -->
</div>

</div>

<!-- زر Back To Top -->
<button id="backToTop">↑</button>

</div>

<style>
/* تحسين المظهر العام */
body {
  font-family: "Cairo", sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 0;
}

/* عنوان */
.title {
  text-align: center;
  margin-top: 20px;
  font-size: 26px;
  color: #1b513c;
  font-weight: 700;
}

#quran-container {
  --audio-color: #1b513c;
  background-color: var(--audio-color);
  padding: 15px;
  border-radius: 12px;
  margin: 20px auto;
  width: 95%;
  max-width: 500px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
  box-shadow: 0 0 10px #00000033;
}

#quran-container img {
  width: 120px;
}

/* اختيار القارئ */
.reciter-selection {
  width: 100%;
  background: #fff;
  padding: 10px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  gap: 10px;
}

#reciterSelect {
  width: 100%;
  padding: 6px;
  border-radius: 4px;
  border: 1px solid #ccc;
}

/* قائمة السور */
#quran-playlist {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-height: 250px;
  overflow-y: auto;
  background: #fff;
  border-radius: 6px;
  padding: 5px;
  border: 2px solid #ddd;
}

#quran-playlist div {
  padding: 8px;
  cursor: pointer;
  border-bottom: 1px solid #eee;
}

#quran-playlist div:hover {
  background: #1b513c;
  color: #fff;
}

#quran-playlist div.activefile {
  background: #1b513c;
  color: #fff;
}

#quran-playlist div b {
  display: none;
}

/* التشغيل التلقائي */
.qautockeck {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff;
  width: 100%;
  padding: 10px;
  border-radius: 6px;
}

/* زر Back To Top */
#backToTop {
  position: fixed;
  bottom: 25px;
  left: 25px;
  background: #1b513c;
  color: #fff;
  border: none;
  padding: 12px 15px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  display: none;
  box-shadow: 0 0 8px #00000055;
  z-index: 999;
}

#backToTop:hover {
  background: #14402e;
}

/* استجابة للشاشات الصغيرة */
@media (max-width: 480px) {
  #quran-container {
    width: 97%;
    padding: 10px;
  }

  #quran-container img {
    width: 90px;
  }

  .title {
    font-size: 22px;
  }
}
</style>

<script>
// ---------------- قائمة السور ديناميكياً ----------------
const playlist = document.getElementById("quran-playlist");
const reciterSelect = document.getElementById("reciterSelect");
const audio = document.getElementById("baPlayer");
const audioSource = document.getElementById("audioSource");
const autoplayCheckbox = document.getElementById("autoplayCheckbox");

// أسماء السور
const surahNames = [
"الفاتحة","البقرة","آل عمران","النساء","المائدة","الأنعام","الأعراف","الأنفال",
"التوبة","يونس","هود","يوسف","الرعد","إبراهيم","الحجر","النحل","الإسراء","الكهف",
"مريم","طه","الأنبياء","الحج","المؤمنون","النور","الفرقان","الشعراء","النمل",
"القصص","العنكبوت","الروم","لقمان","السجدة","الأحزاب","سبأ","فاطر","يس","الصافات",
"ص","الزمر","غافر","فصلت","الشورى","الزخرف","الدخان","الجاثية","الأحقاف","محمد",
"الفتح","الحجرات","ق","الذاريات","الطور","النجم","القمر","الرحمن","الواقعة","الحديد",
"المجادلة","الحشر","الممتحنة","الصف","الجمعة","المنافقون","التغابن","الطلاق",
"التحريم","الملك","القلم","الحاقة","المعارج","نوح","الجن","المزمل","المدثر","القيامة",
"الإنسان","المرسلات","النبأ","النازعات","عبس","التكوير","الانفطار","المطففين",
"الانشقاق","البروج","الطارق","الأعلى","الغاشية","الفجر","البلد","الشمس","الليل",
"الضحى","الشرح","التين","العلق","القدر","البينة","الزلزلة","العاديات","القارعة",
"التكاثر","العصر","الهمزة","الفيل","قريش","الماعون","الكوثر","الكافرون","النصر",
"المسد","الإخلاص","الفلق","الناس"
];

// بناء القائمة
function loadPlaylist(reciter = "minsh") {
  playlist.innerHTML = "";
  for (let i = 1; i <= 114; i++) {
    let surahNum = i.toString().padStart(3, "0");
    let url = `https://server10.mp3quran.net/${reciter}/${surahNum}.mp3`;

    let div = document.createElement("div");
    div.innerHTML = `<b>${url}</b><span>${surahNames[i-1]}</span>`;
    div.onclick = () => playSurah(div, url);

    playlist.appendChild(div);
  }

  playlist.children[0].classList.add("activefile");
}
loadPlaylist();

// تشغيل السورة
function playSurah(element, url) {
  document.querySelectorAll("#quran-playlist div").forEach(el => el.classList.remove("activefile"));
  element.classList.add("activefile");

  audioSource.src = url;
  audio.load();
  audio.play();
}

// تغيير القارئ
reciterSelect.onchange = () => {
  let reciter = reciterSelect.value;
  loadPlaylist(reciter);
  playSurah(playlist.children[0], playlist.children[0].querySelector("b").innerText);
};

// التشغيل التلقائي
audio.onended = () => {
  if (autoplayCheckbox.checked) {
    let active = document.querySelector("#quran-playlist div.activefile");
    let next = active.nextElementSibling;
    if (next) next.click();
  }
};

// زر Back To Top
let topBtn = document.getElementById("backToTop");

window.onscroll = () => {
  topBtn.style.display = window.scrollY > 300 ? "block" : "none";
};

topBtn.onclick = () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
};
</script>
